<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
	<head>
		<script src="JSONeditor.js"></script>
		<script src="ace/ace.js"  charset="utf-8"></script>
		<script>
		var t;
		var ed;
		onload=function(){
			JSONeditor.start('tree','jform',{test:2},false)
			Opera=(navigator.userAgent.toLowerCase().indexOf("opera")!=-1)
			Safari=(navigator.userAgent.toLowerCase().indexOf("safari")!=-1)
			Explorer=(document.all && (!(Opera || Safari)))
			Explorer7=(Explorer && (navigator.userAgent.indexOf("MSIE 7.0")>=0))
			
			
			
			
			t = document.querySelector("#jvalue");
			
			t.style.display="none";
			window.editor = ace.edit("jeditor");
			//editor.setTheme("ace/theme/monokai");
			editor.getSession().setMode("ace/mode/javascript");
			
			editor.getSession().on('change', function () {
				t.value =editor.getSession().getValue();
			});
			
			editor.getSession().setValue(t.value);
			editor.setOptions({wrap:true})
			
		}
		function textarea_changed(){
			try{
				editor.getSession().setValue(t.value);
			}catch(e){
				
			}
		}
		function domode(e){
			editor.getSession().setMode(e.target.value);
		}
		</script>

		<style>

body{
}
.menu{
	height:30px;
	margin:5px;
	border:1px solid grey;
	padding:10px;
}
.main{
	display:flex;
}
#tree{
	overflow-y:scroll;
	flex: 0.5 0 300px;
}
#jform{
}
#jeditor{
	width:100%;
	height:400px;
}
		</style>

	</head>
	<body>
		<div class="menu">
			<input id="fin" type="file"/>
			<button>Save</button>
			<button>Close</button>
			<a style="font-family:Verdana,Arial,Helvetica;font-size:13px" href="http://www.thomasfrank.se/json_editor.html" target="_blank">Thomas Frank.se - Help/info</a>
		</div>
		<div class="main">
			<div  id="tree"></div>
			<div style="flex: 1 0 500px;">
				<div>
					<select onchange="domode(event)">
						<option value="ace/mode/javascript">JS</option>
						<option value="ace/mode/html">HTML</option>
						<option value="ace/mode/text">text</option>
					</select>
				</div>
				<div id="jeditor"></div>
				<div  id="jform"></div>
			</div>
		</div>
	</body>
</html>